(window.webpackJsonp=window.webpackJsonp||[]).push([[299,484,522],{1215:function(t,e,n){"use strict";n.r(e);var r=n(788),c=n(1600);e.default=function(t){return{modules:[r.e],nested:!0,watchOverflow:!0,pagination:{el:".car-card__pagination-".concat(t),type:"bullets",clickable:!0},on:{init:function(t){Object(c.d)(t,3)},slideChange:function(t){Object(c.d)(t,1)}}}}},1257:function(t,e,n){"use strict";n.r(e),n.d(e,"PARAMS_ICONS",(function(){return r}));var r={gear:"ka-drive",engine:"ka-lightning",modificationId:"ka-lightning",run:"ka-speed-side",transmission:"ka-transmission",color:"ka-paint"}},1600:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return l}));n(32),n(44),n(4),n(9);var r=function(){return{transitionStart:function(t){o(t)},init:function(t){c(t)},transitionEnd:function(t){c(t)}}},c=function(t){var e=t.slides[t.activeIndex],n=null==e?void 0:e.querySelector("video");if(n){var r=n.play();null!==r&&r.catch((function(){n.play()}))}},o=function(t){var e,video=null==t||null===(e=t.el)||void 0===e?void 0:e.querySelector("video");video&&video.pause()},l=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(t){var r=null===(e=t.params)||void 0===e?void 0:e.loop,c=0===t.activeIndex,o=r&&!c?t.activeIndex-1:t.activeIndex,l=t.activeIndex+n+1;t.slides.slice(o,l).map((function(t){return t.querySelectorAll("img")})).forEach((function(t){t.forEach((function(s){var t;if((null==s||!s.src)&&null!=s&&null!==(t=s.dataset)&&void 0!==t&&t.src){var img=new Image;img.src=s.dataset.src,img.onload=function(){s.src=img.src}}}))}))}}},2135:function(t,e,n){t.exports={}},2247:function(t,e,n){"use strict";n(2135)},837:function(t,e,n){"use strict";n.r(e);var r=n(688),c=(n(23),n(2)),o=(n(15),n(10),n(32),n(17),n(19),n(13),n(4),n(9),n(25),n(116)),l=n(5),d=n(1215),_=n(48),f=n(1257),m=n(850),v=n(805);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(c.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y={name:"KaCarCard",components:{VIconProvider:_.VIconProvider,VSwiperSlide:_.VSwiperSlide,VSwiper:_.VSwiper,KaSwiperPagination:o.KaSwiperPagination,VSlideSwitcher:_.VSlideSwitcher},mixins:[m.a,v.a],props:{id:[String,Number],name:String,equipment:String,engine:String,type:String,dc:String,dcId:String,url:String,price:Object,images:Array,specs:Array,hasPrice:{type:Boolean,default:!1},hasDisclaimer:{type:Boolean,default:!1},useDiscount:{type:Boolean,default:!1},formMain:[Number,String],formAlt:[Number,String],buttonMain:String,buttonAlt:String,status:String,stickers:{type:Array,default:function(){return[]}},hexColor:String},computed:{swiperOptions:function(){return Object(d.default)(this.id)},specsWithIcons:function(){return Object(l.y)(this.specs)?this.specs.map((function(t){return x(x({},t),{},{icon:f.PARAMS_ICONS[t.name]})})):[]}},methods:{isNotEmptyArray:l.y,changeSlide:function(t){this.$refs.swiper.swiper.slideTo(t-1,0,!1)},handleEquipmentLink:function(){this.url&&this.$router instanceof Object&&this.$router.push instanceof Function&&this.$router.push({path:this.url,hash:"#options"})}}},w=(n(2247),n(1)),component=Object(w.a)(y,(function(){var t=this,e=t._self._c;return t.url&&t.id?e("nuxt-link",{staticClass:"car-card textPrimary--text overflow-hidden d-flex flex-column text-decoration-none",attrs:{to:t.url}},[t.isNotEmptyArray(t.images)?e("div",{staticClass:"car-card__wrapper"},[e("v-slide-switcher",{attrs:{count:t.images.length},on:{change:t.changeSlide}}),t._v(" "),e("v-swiper",{ref:"swiper",staticClass:"car-card__swiper",attrs:{options:t.swiperOptions}},[t._l(t.images,(function(n,i){return[n||t.noImage?e("v-swiper-slide",{key:i,staticClass:"car-card__item"},[e("img",{staticClass:"car-card__item-img",attrs:{"data-src":t.$img(n||t.noImage,{width:500,height:375,fit:"resize"})}}),t._v(" "),e("div",{staticClass:"swiper-lazy-preloader"})]):t._e()]}))],2),t._v(" "),e("ka-swiper-pagination",{staticClass:"car-card__pagination",class:"car-card__pagination-".concat(t.id),attrs:{target:"car-card__swiper",mode:"small"}}),t._v(" "),t.isNotEmptyArray(t.stickers)?e("div",{staticClass:"car-card__chips d-flex align-center flex-wrap"},[t._l(t.stickers,(function(n,c){return[n.color&&n.name?e(r.a,{key:c,staticClass:"car-card__chip text-caption d-flex align-center contrast--text px-2 py-1",class:["".concat(n.text_color,"--text")],attrs:{color:n.color,small:""}},[n.need_dot&&n.dot_hex?e("span",{staticClass:"mr-1 rounded-circle car-card__chip-dot",style:{background:n.dot_hex}}):t._e(),t._v("\n          "+t._s(n.name)+"\n        ")]):t._e()]}))],2):t._e()],1):t._e(),t._v(" "),e("div",{staticClass:"car-card__info d-flex flex-column flex-grow-1 pa-5"},[t.name?e("div",{staticClass:"car-card__name text-mob-h3 text-lg-h3 mb-4"},[t._v("\n      "+t._s(t.name)+"\n    ")]):t._e(),t._v(" "),t.equipment?e("div",{staticClass:"car-card__eq text-caption mb-3 primary--text text-decoration-underline",on:{click:function(e){return e.preventDefault(),t.handleEquipmentLink()}}},[t._v("\n      "+t._s(t.equipment)+" "+t._s(t.engine)+"\n    ")]):t._e(),t._v(" "),t.status?e("div",{staticClass:"car-card__status textDisabled--text text-mob-body-1 text-lg-body-1 mb-4 pl-4"},[t._v("\n      "+t._s(t.status)+"\n    ")]):t._e(),t._v(" "),t.isNotEmptyArray(t.specsWithIcons)?e("div",{staticClass:"car-card__specs mb-2 mt-auto"},[t._l(t.specsWithIcons,(function(n){return[n.value?e("div",{key:n.icon,staticClass:"car-card__spec d-flex align-center mb-2"},["color"===n.name&&t.hexColor?e("div",{staticClass:"car-card__spec-color mr-2",style:{background:t.hexColor}}):t._e(),t._v(" "),"color"===n.name&&t.hexColor?t._e():e("v-icon-provider",{staticClass:"textPrimary--text car-card__spec-icon mr-2",attrs:{icon:n.icon,project:"kaskad-auto"}}),t._v(" "),e("span",{staticClass:"text-mob-body-1 text-lg-body-1 textDisabled--text"},[t._v(t._s(n.value))])],1):t._e()]}))],2):t._e(),t._v(" "),e("div",{staticClass:"car-card__price d-flex flex-column primary--text mb-4 mt-auto"},[t.price.price?e("div",{staticClass:"text-mob-body-2 text-lg-body-2 text-decoration-line-through mb-2"},[t._v("\n        "+t._s(t.price.price)+" "+t._s(t.price.raw?"руб":"")+"\n      ")]):t._e(),t._v(" "),e("div",{staticClass:"text-mob-h3 text-lg-h3"},[t.useDiscount&&t.hasPrice?e("span",[t._v("от")]):t._e(),t._v(" "+t._s(t.price.special)+"\n        "+t._s(t.price.raw?"руб":"")+t._s(t.hasDisclaimer&&t.hasPrice?"*":"")+"\n      ")])]),t._v(" "),t.buttonMain?e("v-button",{staticClass:"primary car-card__btn",on:{click:function(e){return e.preventDefault(),t.handleCarBtnClick(t.formMain)}}},[t._v("\n      "+t._s(t.buttonMain)+"\n    ")]):t._e(),t._v(" "),t.buttonAlt?e("v-button",{staticClass:"primary--text car-card__btn mt-2",attrs:{outlined:""},on:{click:function(e){return e.preventDefault(),t.handleCarBtnClick(t.formAlt)}}},[t._v("\n      "+t._s(t.buttonAlt)+"\n    ")]):t._e()],1)]):t._e()}),[],!1,null,"6d1f128c",null);e.default=component.exports}}]);