(window.webpackJsonp=window.webpackJsonp||[]).push([[308,232,284,397,521,527,528],{1157:function(t,e,r){"use strict";r.r(e);r(25);e.default={props:{fields:{type:Object},id:{type:Number,default:null},breadcrumbs:{type:Array}}}},1158:function(t,e,r){"use strict";r.r(e),r.d(e,"getBannersFilteredByStatus",(function(){return d}));var n=r(2),o=(r(15),r(10),r(32),r(17),r(19),r(13),r(4),r(9),r(5));function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(t){return Object(o.y)(t)?t.filter((function(b){return Object(o.C)(b.status)||b.status})).map((function(b){return b.id?b:c(c({},b),{},{id:Object(o.n)()})})):[]}},1195:function(t,e,r){"use strict";r.r(e),r.d(e,"ITEMS_PER_PAGE",(function(){return n}));var n=6},1741:function(t,e,r){t.exports={}},1767:function(t,e,r){t.exports={}},1889:function(t,e,r){"use strict";r(1741)},1978:function(t,e,r){"use strict";r(15),r(10),r(17),r(19),r(13),r(4),r(9);var n=r(27),o=r(2),l=(r(67),r(32),r(33),r(50),r(41),r(1767),r(147)),c=r(549),d=r(26),f=r(11),v=r(0);function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){Object(o.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}e.a=Object(f.a)(l.a,c.a,d.a).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?y({"aria-busy":!this.boilerplate||void 0,"aria-live":this.boilerplate?void 0:"polite","aria-label":this.boilerplate?void 0:this.$vuetify.lang.t(this.loadingText),role:this.boilerplate?void 0:"alert"},this.$attrs):this.$attrs},classes:function(){return y(y({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses),this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return y({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(text,t){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(text," v-skeleton-loader__bone")},t)},genBones:function(t){var e=this,r=t.split("@"),o=Object(n.a)(r,2),l=o[0],c=o[1];return Array.from({length:c}).map((function(){return e.genStructure(l)}))},genStructure:function(t){var e=[];t=t||this.type||"";var r=this.rootTypes[t]||"";if(t===r);else{if(t.indexOf(",")>-1)return this.mapBones(t);if(t.indexOf("@")>-1)return this.genBones(t);r.indexOf(",")>-1?e=this.mapBones(r):r.indexOf("@")>-1?e=this.genBones(r):r&&e.push(this.genStructure(r))}return[this.genBone(t,e)]},genSkeleton:function(){var t=[];return this.isLoading?t.push(this.genStructure()):t.push(Object(v.o)(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},t):t},mapBones:function(t){return t.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(t){this.resetStyles(t),this.isLoading&&(t._initialStyle={display:t.style.display,transition:t.style.transition},t.style.setProperty("transition","none","important"))},onBeforeLeave:function(t){t.style.setProperty("display","none","important")},resetStyles:function(t){t._initialStyle&&(t.style.display=t._initialStyle.display||"",t.style.transition=t._initialStyle.transition,delete t._initialStyle)}},render:function(t){return t("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},2126:function(t,e,r){t.exports={}},2238:function(t,e,r){"use strict";r(2126)},448:function(t,e,r){"use strict";r.r(e);var n=r(1157);r.d(e,"block",(function(){return n.default}));var o=r(1158);r.d(e,"getBannersFilteredByStatus",(function(){return o.getBannersFilteredByStatus}))},588:function(t,e,r){"use strict";r.r(e);var n=r(830);r.d(e,"KaOfferCard",(function(){return n.default}));var o=r(1195);r.d(e,"ITEMS_PER_PAGE",(function(){return o.ITEMS_PER_PAGE}))},830:function(t,e,r){"use strict";r.r(e);var n={name:"KaOfferCard",components:{VPlaceholderImage:r(48).VPlaceholderImage},props:{title:{type:String,default:""},image:{type:String,default:""},date:{type:String,default:""},href:{type:String,default:""}}},o=(r(1889),r(1)),component=Object(o.a)(n,(function(){var t=this,e=t._self._c;return e("nuxt-link",{staticClass:"offer-card overflow-hidden d-flex flex-column textPrimary--text backgroundSecondary text-decoration-none",attrs:{to:t.href}},[t.image?e("img",{directives:[{name:"lazy-load",rawName:"v-lazy-load"}],staticClass:"offer-card__img",attrs:{"data-src":t.$img(t.image,{width:840,height:448,fit:"cover"}),alt:"Изображение акции"}}):e("v-placeholder-image",[t._v(" NO IMAGE ")]),t._v(" "),e("div",{staticClass:"offer-card__info pt-6 px-6 pb-4"},[e("p",{staticClass:"offer-card__date text-body-1 mb-3"},[t._v("\n      "+t._s(t.date)+"\n    ")]),t._v(" "),e("h3",{staticClass:"offer-card__title text-h3 mb-4"},[t._v("\n      "+t._s(t.title)+"\n    ")]),t._v(" "),e("v-button",{staticClass:"offer-card__btn pa-0",attrs:{plain:"",color:"primary"}},[t._v("\n      Подробнее\n    ")])],1)],1)}),[],!1,null,"69926680",null);e.default=component.exports},938:function(t,e,r){"use strict";r.r(e);var n=r(2268),o=r(1978),l=(r(23),r(588)),c=r(448),d=r(5),f=r(821),v=r(48),h=r(883),y={name:"KAOffersList",components:{KaOfferCard:l.KaOfferCard,VTitle:v.VTitle},mixins:[c.block,f.a,h.a],data:function(){return{count:l.ITEMS_PER_PAGE,hideAllVar:!0}},watch:{curDealer:{handler:function(){this.count=l.ITEMS_PER_PAGE},immediate:!0},curCategory:{handler:function(){this.count=l.ITEMS_PER_PAGE},immediate:!0}},beforeMount:function(){this.setInitialSettings()},methods:{isNotEmptyArray:d.y,nextPage:function(){this.count+=l.ITEMS_PER_PAGE,this.offersQuery()},setInitialSettings:function(){this.fields.pagination?this.page=1:this.page=0}}},m=(r(2238),r(1)),component=Object(m.a)(y,(function(){var t,e,r,l,c=this,d=c._self._c;return d("div",{staticClass:"offers textPrimary--text"},[d(n.a,[d("v-title",{staticClass:"offers__title mb-6 text-left",attrs:{tag:null===(t=c.fields.title)||void 0===t?void 0:t.tag,title:null===(e=c.fields.title)||void 0===e?void 0:e.text}}),c._v(" "),c.fields.filters?d("div",{staticClass:"offers__filters d-flex flex-wrap mb-5 mb-xl-10"},[c.isNotEmptyArray(c.allCategories)?d("v-custom-select",{staticClass:"offers__filter",attrs:{label:"Тип спецпредложения",items:c.allCategories,"item-value":"id","item-text":"title",multiple:"",outlined:""},on:{change:function(t){return c.handleClick(t)}},model:{value:c.curCategory,callback:function(t){c.curCategory=t},expression:"curCategory"}}):c._e(),c._v(" "),c.showDcFilter?d("v-custom-select",{staticClass:"offers__filter",attrs:{label:"Дилерские центры",items:c.dealers,"item-value":"id","item-text":"name",outlined:""},model:{value:c.curDealer,callback:function(t){c.curDealer=t},expression:"curDealer"}}):c._e(),c._v(" "),c.showBrandFilter?d("v-custom-select",{staticClass:"offers__filter",attrs:{label:"Бренд",items:c.brands,"item-value":"id","item-text":"name",multiple:"",outlined:""},model:{value:c.curBrand,callback:function(t){c.curBrand=t},expression:"curBrand"}}):c._e()],1):c._e(),c._v(" "),d("client-only",[c.$apollo.loading?d("div",[d("div",{staticClass:"offers__list"},c._l(6,(function(t){return d(o.a,{key:t,attrs:{type:"card, list-item-two-line, button"}})})),1)]):c._e()]),c._v(" "),d("div",{staticClass:"offers__amount text-body-1 mb-4"},[c._v("\n      Показано предложений: "+c._s(c.curLength)+"\n    ")]),c._v(" "),c.isNotEmptyArray(null===(r=c.allOffers)||void 0===r?void 0:r.data)?d("div",{staticClass:"offers__list"},c._l(c.allOffers.data,(function(t){return d("ka-offer-card",{key:t.id,attrs:{image:t.previewImage,title:t.name,date:t.date,href:t.url}})})),1):d("div",{staticClass:"text-h3"},[c._v("\n      К сожалению, по данному запросу предложений нет.\n    ")]),c._v(" "),c.curLength!==(null===(l=c.allOffers)||void 0===l?void 0:l.total)?d("div",{staticClass:"offers__pagination d-flex justify-center"},[d("v-button",{staticClass:"primary mt-4",on:{click:c.nextPage}},[c._v("\n        Показать еще\n      ")])],1):c._e(),c._v(" "),c.fields.addButton?d("div",{staticClass:"d-flex justify-center"},[d("v-button",{staticClass:"offers__quiz mt-4 ma-auto",attrs:{id:"offers-list-quiz",outlined:"",color:"primary"}},[c._v("\n        "+c._s(c.fields.addButton)+"\n      ")])],1):c._e()],1)],1)}),[],!1,null,"622ef6a5",null);e.default=component.exports}}]);